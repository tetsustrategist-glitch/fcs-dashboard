name: Update_FCS_Dashboard

on:
  schedule:
    - cron: '5 22 * * *' # UTC 22:05 = 日本時間 07:05 (米国市場終値直後)
  workflow_dispatch: # 手動でも動かせるようにするボタン

jobs:
  build_and_deploy:
    runs-on: ubuntu-latest
    permissions:
      contents: write # フォルダへの書き込みを許可
    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.10'

      - name: Install dependencies
        run: |
          pip install -r requirements.txt

      - name: Run Reconnaissance (Build HUD)
        run: |
          python build_hud.py

      - name: Deploy HUD to GitHub Pages Branch
        uses: stefanzweifel/git-auto-commit-action@v5
        with:
          commit_message: "System Update: FCS HUD Daily Report"
          file_pattern: 'index.html' # 生成されたHTMLを保存
